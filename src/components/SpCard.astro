import type { SpCardProps, SpCardVariant } from "../types/card.ts";

type Props = SpCardProps;

const props = Astro.props as Props;

const {
  variant: providedVariant = "base",
  as = "div",
  class: className,
  ...rest
} = props;

const variant = providedVariant as SpCardVariant;

const VARIANT_CLASS_MAP: Record<SpCardVariant, string | undefined> = {
  base: undefined,
  elevated: "sp-card--elevated",
  flat: "sp-card--outline",
};

const classes = ["sp-card", VARIANT_CLASS_MAP[variant], className]
  .filter(Boolean)
  .join(" ");

const Element = as;
---

<Element class={classes} {...rest}>
  <slot />
</Element>
